<!DOCTYPE html>
<html lang="ja">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>単一テーブル複数レコード</title>
<link rel="stylesheet" type="text/css" media="screen" href="er_diagram.css">
<!--[if IE]><script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
<style type="text/css">
#gyoushu_tbl {
  position: relative;
}
#kokyaku_tbl {
  position: relative;
  top: 1em;
  left: 3em;
}
</style>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="er_diagram.js"></script>
<script type="text/javascript">
$(function() {
  var canvas = document.getElementById('canvas1');
  canvas.width = $(document).width();
  canvas.height = $(document).height();

  var ctx = canvas.getContext('2d');
  ctx.strokeColor = 'black';

  var gyoushu_tbl = new er.Table('gyoushu_tbl'),
    kokyaku_tbl = new er.Table('kokyaku_tbl');
  var connectors = [
    new er.Connector(
      gyoushu_tbl.addConnectorEnd('one', 'bottom'),
      kokyaku_tbl.addConnectorEnd('ref', 'left')
    )
  ];
  for (var i = 0, len = connectors.length; i < len; i++) {
    connectors[i].draw(ctx);
  }
});
</script>
</head>
<body>
  <canvas id="canvas1"></canvas>
  <div class="table" id="gyoushu_tbl">
    <div>業種</div>
    <table>
      <tr><th class="key">業種C、</th><th>業種名、</th><th>…</th></tr>
      <tr><td>10</td><td>小売業</td><td>&nbsp;</td></tr>
    </table>
  </div>
  <div class="table" id="kokyaku_tbl">
    <div>顧客</div>
    <table>
      <thead>
        <tr><th class="key">顧客C、</th><th>顧客カナ名、</th><th>顧客漢字名、</th><th>業種C、</th><th>…</th></tr>
      </thead>
      <tbody>
        <tr><td>C001</td><td>ヤマモトデンキテン</td><td>山本電器店</td><td>10</td><td>&nbsp;</td></tr>
        <tr><td>C002</td><td>スズキショウテン</td><td>鈴木書店</td><td>10</td><td>&nbsp;</td></tr>
        <tr><td>C003</td><td>サイトウケンセツ</td><td>斉藤建設</td><td>10</td><td>&nbsp;</td></tr>
        <tr><td>C004</td><td>ヤマモトヤッキョク</td><td>山本薬局</td><td>10</td><td>&nbsp;</td></tr>
      </tbody>
    </table>
  </div>
</body>
</html>
