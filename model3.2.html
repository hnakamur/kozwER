<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<title>Diagram using Raphael</title>
<script type="text/javascript" src="raphael.js"></script>
<script type="text/javascript" src="geom2d.js"></script>
<script type="text/javascript" src="minj.js"></script>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="er_diagram.js"></script>
<script type="text/javascript" src="raphael.kozw.js"></script>
<script type="text/javascript">
window.onload = function() {
  var tbl_a = new er.Table('tbl_a', {
    name: 'テーブルA',
    columns: ['a', 'b', 'c']
  });

  var tbl_b = new er.Table('tbl_b', {
    name: 'テーブルB',
    columns: ['d', 'e', 'a']
  });

  var tbl_c = new er.Table('tbl_c', {
    name: 'テーブルC',
    columns: ['e', 'f', 'g']
  });

  var paper = Raphael("canvas", 640, 480);
  var elems_a = paper.kozw.table(20, 20, tbl_a);
  var bbox_a = elems_a.getBBox(),
      x = bbox_a.x + 40,
      y = bbox_a.y + bbox_a.height + 30;
  var elems_b = paper.kozw.table(x, y, tbl_b);
  var bbox_b = elems_b.getBBox();
  y = bbox_b.y + bbox_b.height + 30;
  var elems_c = paper.kozw.table(20, y, tbl_c);

  var connectors = [
    new er.Connector(
      tbl_a.addConnectorEnd('one', 'bottom'),
      tbl_b.addConnectorEnd('ref', 'left')
    ),
    new er.Connector(
      tbl_c.addConnectorEnd('one', 'top'),
      tbl_b.addConnectorEnd('ref', 'left')
    )
  ];
  for (var i = 0, len = connectors.length; i < len; i++) {
    paper.kozw.connector(connectors[i]);
  }
};
</script>
<style type="text/css">
</style>
</head>
<body>
  <div id="canvas"></div>
</body>
</html>

