<html>
<head>
<title>Diagram using SvgWeb</title>
<script src="lib/svgweb/svg.js" data-path="lib/svgweb/" data-debug="true"></script>
<script src="vegu.js"></script>
<script src="minj.js"></script>
<script src="kozw.js"></script>
<script>
svgweb.addOnLoad(function() {
  var hinmoku_tbl = new kozw.Table({
    name: '品目',
    columns: ['品目C', '品目名', '製造対象', '販売対象', '購入対象'],
    data: [
      ['P100', '品目A', '○', '○', '×'],
      ['P200', '品目B', '×', '×', '○'],
      ['P300', '品目C', '○', '×', '×'],
      ['P400', '品目D', '×', '×', '○'],
      ['P500', '品目E', '×', '○', '○']
    ],
    x: 10, y: 40
  });

  var hinmoku_kousei_tbl = new kozw.Table({
    name: '品目構成',
    columns: ['親品目C', '子品目C', '構成比'],
    pkeyColumnCount: 2,
    data: [
      ['P100', 'P200', 2.0],
      ['P100', 'P300', 1.0],
      ['P300', 'P400', 1.0],
      ['P300', 'P500', 2.0]
    ]
  });

  var svg1 = document.getElementById('svg1');
  vegu.setAttrs(svg1, {width: 640, height: 480});
  var node = hinmoku_tbl.createDom();
  console.log(hinmoku_tbl.dom.nameText.getBBox());
  svg1.appendChild(node);
  console.log(hinmoku_tbl.dom.nameText.getBBox());
});
</script>
</head>
<body>
  <script type="image/svg+xml">
    <svg xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink"
        id="svg1">
    </svg>
  </script>
</body>
</html>

