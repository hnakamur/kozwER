<html>
<head>
<title>kozwER</title>
<script src="../svgweb/src/svg.js" data-path="../svgweb/src/"></script>
<script src="../svgdom/svgdom.js"></script>
<script src="svgdom.kozwER.js"></script>
<script>
window.onload = function() {
  var s = svgdom.Element.byId('svg1');

  var g = s.g();
  s.append(g);

  var rect = s.rect({stroke: '#000', fill: 'none'});
  g.append(rect);
  var text1 = s.text({x: 40, y: 24}).append(s.textNode("受注"));
  g.append(text1);

  var box = text1.getTextBBox();
  rect.setAttr(svgdom.geom.insetRect(box, -4));
}
</script>
</head>
<body>
  <script type="image/svg+xml">
    <svg id="svg1" width="400" height="400" style="border: 1px solid black;">
      <defs>
        <marker id="Circle" viewBox = "0 0 12 12" refX = "12" refY = "6" markerWidth = "3" markerHeight = "3" stroke = "green" stroke-width = "2" fill = "none" orient = "auto">
          <circle cx = "6" cy = "6" r = "5"/>
        </marker>
        <marker id="Triangle"
          viewBox="0 0 10 10" refX="0" refY="5" 
          markerUnits="userSpaceOnUse"
          markerWidth="40" markerHeight="30" fill="none" stroke="black"
          orient="auto">
          <path d="M 0 0 L 10 5 L 0 10 z" />
        </marker>
        <marker id="oneStart" viewBox="-16 -4 16 8"
            markerUnits="userSpaceOnUse" markerHeight="32" markerWidth="16"
            stroke="#000" fill="none" orient="auto">
          <path d="M0,0L-16,0M-10,-4L-10,4" />
        </marker>
        <marker id="oneEnd" viewBox="0 -4 16 8"
            markerUnits="userSpaceOnUse" markerHeight="32" markerWidth="16"
            stroke="#000" fill="none" orient="auto">
          <path d="M0,0L16,0M10,-4L10,4" />
        </marker>
        <marker id="refStart" viewBox="-10 -4 10 8"
            markerUnits="userSpaceOnUse" markerHeight="32" markerWidth="16"
            stroke="#000" fill="none" orient="auto">
          <path d="M0,0l-2,0m-2,0l-2,0m-2,0l-2,0"/>
        </marker>
        <marker id="refEnd" viewBox="0 -4 10 8"
            markerUnits="userSpaceOnUse" markerHeight="32" markerWidth="16"
            stroke="#000" fill="none" orient="auto">
          <path d="M0,0l2,0m2,0l2,0m2,0l2,0"/>
        </marker>
        <marker id="inheritStart" viewBox="-16 -4 16 8"
            markerUnits="userSpaceOnUse" markerHeight="32" markerWidth="16"
            stroke="#000" fill="none" orient="auto">
          <path d="M0,0L-16,0M-10,-4L-10,4"/>
          <path d="M-1,0A3 3 0 1 0 -7,0A3 3 0 1 0 -1,0" fill="#000"/>
        </marker>
        <marker id="inheritEnd" viewBox="0 -4 16 8"
            markerUnits="userSpaceOnUse" markerHeight="32" markerWidth="16"
            stroke="#000" fill="none" orient="auto">
          <path d="M0,0L16,0M10,-4L10,4"/>
          <path d="M1,0A3 3 0 1 0 7,0A3 3 0 1 0 1,0" fill="#000"/>
        </marker>
        <marker id="manyStart" viewBox="-16 -4 16 8"
            markerUnits="userSpaceOnUse" markerHeight="32" markerWidth="16"
            stroke="#000" fill="none" orient="auto">
          <path d="M0,0L-16,0M-16,-4L-10,-4A4 4 0 1 1 -10,4L-16,4"/>
        </marker>
        <marker id="manyEnd" viewBox="0 -4 16 8"
            markerUnits="userSpaceOnUse" markerHeight="32" markerWidth="16"
            stroke="#000" fill="none" orient="auto">
          <path d="M0,0L16,0M16,-4L10,-4A4 4 0 1 0 10,4L16,4"/>
        </marker>
      </defs>
      <rect x="0" y="0" width="400" height="400"
           fill="none" stroke="blue" stroke-width="1" />
      <desc>Placing an arrowhead at the end of a path.
      </desc>
      <path d="M100,50L100,180A20 20 1 0 0 120,200L250 200"
            fill="none" stroke="#000" stroke-width="1"
            marker-start="url(#oneStart)"
            marker-end="url(#refEnd)"  />
      <path d="M90,50L90,190A20 20 1 0 0 110,210L250 210"
            fill="none" stroke="#000" stroke-width="1"
            marker-start="url(#refStart)"
            marker-end="url(#oneEnd)"  />
      <path d="M80,50L80,200A20 20 1 0 0 100,220L250 220"
            fill="none" stroke="#000" stroke-width="1"
            marker-start="url(#oneStart)"
            marker-end="url(#manyEnd)"  />
      <path d="M70,50L70,210A20 20 1 0 0 90,230L250 230"
            fill="none" stroke="#000" stroke-width="1"
            marker-start="url(#manyStart)"
            marker-end="url(#oneEnd)"  />
      <path d="M60,50L60,220A20 20 1 0 0 80,240L250 240"
            fill="none" stroke="#000" stroke-width="1"
            marker-start="url(#oneStart)"
            marker-end="url(#inheritEnd)"  />
      <path d="M50,50L50,230A20 20 1 0 0 70,250L250 250"
            fill="none" stroke="#000" stroke-width="1"
            marker-start="url(#inheritStart)"
            marker-end="url(#oneEnd)"  />
    </svg>
  </script>
</body>
</html>
